<app-navbar></app-navbar>
<h1 class="title">Hallazgos por verificar</h1>
<mat-form-field id="search-issue">
  <input matInput (keyup)="applyFilter($event)" placeholder="Buscar ahora" class="search-input" #input>
</mat-form-field>

<div class="mat-elevation-z8">

  <mat-table #table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">

    <!-- IssueId Column -->
    <ng-container matColumnDef="issueId">
      <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by issueId"> Id </mat-header-cell>
      <mat-cell *matCellDef="let issue"> <a href="solution/add/{{issue.issueId}}">{{issue.issueId}}</a> </mat-cell>
    </ng-container>

    <!-- Area Column -->
    <ng-container matColumnDef="area">
      <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by area"> √Årea de TI </mat-header-cell>
      <mat-cell *matCellDef="let issue"> {{issue.area}} </mat-cell>
    </ng-container>

    <!-- Environment Column -->
    <ng-container matColumnDef="environment">
      <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by environment"> Ambiente </mat-header-cell>
      <mat-cell *matCellDef="let issue"> {{issue.environment}} </mat-cell>
    </ng-container>

    <!-- IssueDetail Column -->
    <ng-container matColumnDef="issueDetail">
      <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by issueDetail"> Detalle </mat-header-cell>
      <mat-cell *matCellDef="let issue"> {{ (issue.issueDetail.length)? (issue.issueDetail |
        slice:0:40)+'...':(issue.issueDetail ) }} </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
  <mat-paginator #paginator [pageSize]="5" [pageSizeOptions]="[5,10,15]" showFirstLastButtons aria-label="Select page">
  </mat-paginator>
</div>